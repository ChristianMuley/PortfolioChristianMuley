@tailwind base;
@tailwind components;
@tailwind utilities;

/* =========================
   Global safety net (responsive defaults)
   ========================= */
*,
*::before,
*::after{
    box-sizing:border-box;
}

img,
video{
    max-width:100%;
    height:auto;
    display:block;
}

/* =========================
   Variables
   ========================= */
:root{
    --header-h: 100px;
    --footer-h: 48px;

    --dur-skill: 1.2s;
    --ease-skill: cubic-bezier(.16, 1, .3, 1);
}

body { @apply antialiased; }

body.is-snap-home{
    background:#0f172a;
    color:#e2e8f0;
}

/* =========================
   Snap core
   ========================= */
body.is-snap-home .section .section-inner{
    opacity:0;
    visibility:hidden;
    transform:translateY(-16px);
    pointer-events:none;
}

body.is-snap-home .section.is-open .section-inner,
body.is-snap-home .section.is-current .section-inner{
    opacity:1;
    visibility:visible;
    transform:none;
    pointer-events:auto;
}

/* =========================
   Navbar
   ========================= */
.nav-scan{
    opacity:0;
    pointer-events:none;
    transition:opacity .4s ease;
}
.nav-scan.show{
    opacity:1;
    pointer-events:auto;
}

.nav-shell{
    display:grid;
    grid-template-columns: 1fr auto 1fr;
    align-items:center;

    height:var(--header-h);
    padding-inline:1.5rem;
    gap:1.25rem;

    background:rgba(2,6,23,.70);
    backdrop-filter: blur(18px) saturate(120%);
    -webkit-backdrop-filter: blur(18px) saturate(120%);

    border-bottom:1px solid rgba(255,255,255,.06);
    box-shadow:
            0 10px 28px rgba(0,0,0,.22),
            inset 0 1px 0 rgba(255,255,255,.04);
}

.nav-left-spacer{ justify-self:start; }
.nav-center{ justify-self:center; }

.nav-right{
    justify-self:end;
    display:flex;
    align-items:center;
    gap:.9rem;

    list-style:none;
    margin:0;
    padding:0;
}

.nav-link{
    color:rgba(248,250,252,.75);
    font-weight:500;
    font-size:.95rem;
    letter-spacing:.02em;

    padding:.5rem .8rem;
    border-radius:.6rem;
    z-index:150;

    transition:
            color .15s ease,
            background .18s ease,
            transform .18s ease,
            box-shadow .18s ease;
}

.nav-link:hover{
    color:rgba(255,255,255,.98);
    background:rgba(255,255,255,.08);
    transform:translateY(-1px);
}

#scanNav .nav-link{
    background:transparent !important;
    border-radius:0 !important;
    text-decoration:none;
}

#scanNav .nav-link.is-active{
    background:transparent !important;
    box-shadow:none !important;
    color:#fff !important;
}

#scanNav .nav-right .nav-link:last-of-type{
    margin-right:.75rem;
}

/* Download CV button */
/* =========================
   Navbar — CV button (premium + click-me)
   ========================= */
.nav-cv-btn{
    position: relative;
    display: inline-flex;
    align-items: center;
    justify-content: center;
    gap: .55rem;

    /* bigger + more pill-like */
    padding: .85rem 1.55rem;
    border-radius: 18px; /* rounded edges (not full pill) */
    min-height: 46px;

    /* “click me” typography */
    font-weight: 950;
    font-size: 1.02rem;
    letter-spacing: 0.03em;
    text-transform: uppercase;

    text-decoration: none;
    color: rgba(255,255,255,0.98);

    background: linear-gradient(135deg, rgba(56,189,248,0.96), rgba(168,85,247,0.96));
    border: 1px solid rgba(255,255,255,0.22);

    box-shadow:
            0 22px 60px rgba(0,0,0,0.42),
            0 12px 26px rgba(56,189,248,0.22),
            inset 0 1px 0 rgba(255,255,255,0.26);

    transform: translateY(0);
    transition: transform .16s ease, filter .16s ease, box-shadow .16s ease;
    isolation: isolate;
}

.nav-cv-btn::before{
    content: "";
    position: absolute;
    inset: -12px;
    border-radius: 22px; /* match rounded edges */
    background: radial-gradient(circle at 30% 30%,
    rgba(56,189,248,0.60),
    rgba(168,85,247,0.28),
    transparent 65%);
    filter: blur(12px);
    opacity: 0.7;
    z-index: -1;
    transition: opacity .16s ease, filter .16s ease;
}

.nav-cv-btn:hover{
    transform: translateY(-3px) scale(1.03);
    filter: brightness(1.10) saturate(1.05);
    box-shadow:
            0 34px 90px rgba(0,0,0,0.55),
            0 18px 38px rgba(56,189,248,0.38),
            0 0 0 1px rgba(255,255,255,0.10),
            inset 0 1px 0 rgba(255,255,255,0.34);
}


.nav-cv-btn:hover::before{
    opacity: 1;
    filter: blur(16px);
}

.nav-cv-btn:active{
    transform: translateY(0px) scale(0.995);
    filter: brightness(1.02);
}

/* CV button label swapping (prevents "Download CV" + "CV" showing together) */
.nav-cv-text--short{ display:none; }
.nav-cv-icon{ display:none; }

/* Small screens: show short label + icon stacked */
@media (max-width: 720px){
    body.is-snap-home .nav-cv-btn{
        flex-direction:column;
        align-items:flex-start;
        justify-content:center;
        gap:.2rem;

        padding:.55rem .85rem;
        min-height:40px;
        border-radius:16px;
    }

    body.is-snap-home .nav-cv-text--long{ display:none; }
    body.is-snap-home .nav-cv-text--short{
        display:block;
        line-height:1;
    }
    body.is-snap-home .nav-cv-icon{
        display:block;
        opacity:.85;
        line-height:1;
        transform:translateY(-1px);
    }
}


/* Active panel scrolling (small screens fix) */
.section-inner.panel-scroll{
    overflow-y: auto !important;
    overflow-x: hidden !important;
    -webkit-overflow-scrolling: touch;
    overscroll-behavior: contain;
}

/* =========================
   Footer
   ========================= */
footer.footer{
    position:fixed;
    left:0;
    right:0;
    bottom:0;
    z-index:200;

    height:var(--footer-h);
    background:#000;
    color:#fff;

    display:flex;
    align-items:center;
    
    padding-inline:1.5rem;

    border-top:1px solid rgba(255,255,255,.05);
}

footer.footer a{
    color:rgba(56,189,248,.78);
    text-decoration:none;
    transition:color .18s ease, text-shadow .18s ease;
}
footer.footer a:hover{
    color:rgba(56,189,248,.95);
    text-shadow:0 0 10px rgba(56,189,248,.22);
}


/* =========================
   Snap root layout
   ========================= */
body.is-snap-home #snapRoot{
    position:relative;
    z-index:0;
    height:calc(100vh - var(--header-h) - var(--footer-h));
    margin-top:var(--header-h);
    margin-bottom:0;
    overflow:hidden;

    display:flex;
    flex-direction:column;
}

/* Mobile browser fix: use dynamic viewport units when supported */
@supports (height: 100dvh){
    body.is-snap-home #snapRoot{
        height:calc(100dvh - var(--header-h) - var(--footer-h));
    }
}

/* =========================
   Panel base
   ========================= */
body.is-snap-home .section{
    position:relative;
    height:0;
    overflow:hidden;

    display:flex;
    align-items:center;
    justify-content:center;

    transition:height .65s cubic-bezier(.22,.61,.36,1);
}

body.is-snap-home .section .section-inner{
    width:100%;
    max-width:72rem;
    padding-inline:1.5rem;
    padding-top:3.5rem;
}

body.is-snap-home #snapRoot > .section[data-panel-tone="dark"]{
    background:linear-gradient(140deg, #101827 0%, #0b1220 40%, #1f2937 100%);
    color:#fff;
}
body.is-snap-home #snapRoot > .section[data-panel-tone="light"]{
    background:radial-gradient(circle at 15% 15%, #ffffff 0%, #edf1f5 50%, #e2e8f0 100%);
    color:#0f172a;
}

body.is-snap-home .section[data-panel-tone="light"] .section-inner{ color:#0f172a; }
body.is-snap-home .section[data-panel-tone="dark"]  .section-inner{ color:#fff; }

body.is-snap-home .panel-head-full{ display:none !important; }

/* Titles */
.section-title { @apply text-4xl md:text-6xl font-bold tracking-tight; }
.section-sub  { @apply mt-4 text-lg md:text-xl; }

/* =========================
   Panel A
   ========================= */
body.is-snap-home #A.section{
    align-items:stretch;
    justify-content:stretch;
}

body.is-snap-home #A .section-inner{
    max-width:none;
    width:100%;
    height:100%;
    padding:0;
    position:relative;
    overflow:hidden;
}

body.is-snap-home #A .hero-a-bg{
    position:absolute;
    inset:0;
    z-index:0;
}

body.is-snap-home #A .hero-a-img{
    width:100%;
    height:100%;
    object-fit:cover;
    object-position:center;
    filter:blur(2px);
    transform:scale(1.03);
    opacity:.75;
}

body.is-snap-home #A .hero-a-bg::before{
    content:"";
    position:absolute;
    inset:0;
    background:rgba(0,0,0,.55);
}
body.is-snap-home #A .hero-a-bg::after{
    content:"";
    position:absolute;
    inset:0;
    background:linear-gradient(to bottom, rgba(0,0,0,.25), rgba(0,0,0,.65));
}

body.is-snap-home #A .hero-a-link{
    color:rgba(255,255,255,.92);
    font-weight:800;
    text-decoration:none;
    border-bottom:1px solid rgba(255,255,255,.35);
    transition:border-color .18s ease, color .18s ease;
}
body.is-snap-home #A .hero-a-link:hover{
    color:#fff;
    border-bottom-color:rgba(56,189,248,.85);
}

/* Typewriter */
.tw-type{ visibility:hidden; }
.tw-type.tw-visible{ visibility:visible; }

.tw-type[data-tw-typing="1"]::after{
    content:"";
    display:inline-block;
    border-left:2px solid currentColor;
    width:0;
    height:1em;
    margin-left:.12em;
    transform:translateY(.08em);
    opacity:.9;
    animation:tw-blink 1s steps(1,end) infinite;
}
@keyframes tw-blink{ 50%{ opacity:0; } }

/* =========================
   Panel B (Skills)
   ========================= */
body.is-snap-home #B.section{
    align-items:stretch;
    justify-content:stretch;
}

body.is-snap-home #B .section-inner{
    max-width:none;
    width:100%;
    height:100%;
    min-height:0;
    padding:0;

    display:flex;
    flex-direction:column;
}

body.is-snap-home #B .skills-accordion{
    position:relative;
    isolation:isolate;

    display:flex;
    align-items:stretch;

    width:100%;
    height:100%;
    flex:1 1 auto;
    min-height:0;

    gap:0;
    padding:0;

    background:#000;
    border:0;
    border-radius:0;

    overflow:visible;
    box-shadow:inset 0 0 0 1px rgba(2,6,23,.10);
}

body.is-snap-home #B .skills-accordion::before{
    content:"";
    position:absolute;
    left:0;
    right:0;
    top:0;
    height:clamp(56px, 5vh, 84px);
    z-index:4;
    pointer-events:none;
    background:linear-gradient(
            to bottom,
            rgba(2,6,23,.35) 0%,
            rgba(2,6,23,.14) 45%,
            rgba(2,6,23,0) 100%
    );
}

body.is-snap-home #B .skills-overlay{
    position:absolute;
    top:clamp(1.6rem, 1.6vw, 1.15rem);
    left:clamp(.5rem, 1.4vw, 1.15rem);
    z-index:5;

    pointer-events:none;
    user-select:none;

    padding:.2rem .75rem;
    border-radius:14px;

    background:rgba(15,23,42,.42);
    border:1px solid rgba(255,255,255,.16);
    backdrop-filter:blur(10px) saturate(120%);
    -webkit-backdrop-filter:blur(10px) saturate(120%);

    color:rgba(255,255,255,.92);
    box-shadow:0 12px 34px rgba(0,0,0,.18);
}

body.is-snap-home #B .skills-overlay-title{
    font-weight:800;
    font-size:.9rem;
    letter-spacing:.02em;
}
body.is-snap-home #B .skills-overlay-sub{
    margin-top:.15rem;
    font-weight:600;
    font-size:.75rem;
    opacity:.8;
}

body.is-snap-home #B .skill-card{
    position:relative;
    min-width:0;
    flex:1 1 0%;
    display:block;

    border-radius:0;
    overflow:hidden;

    background:rgba(255,255,255,.76);
    border:0;
    box-shadow:none;

    transition:
            flex-grow var(--dur-skill) var(--ease-skill),
            transform var(--dur-skill) var(--ease-skill),
            box-shadow var(--dur-skill) var(--ease-skill),
            background-color var(--dur-skill) var(--ease-skill);

    border-left:1px solid rgba(2,6,23,.12);
}
body.is-snap-home #B .skill-card:first-child{ border-left:0; }

body.is-snap-home #B .skill-card:hover{
    transform:translateY(-1px);
    box-shadow:0 0 0 1px rgba(56,189,248,.10);
}

body.is-snap-home #B .skill-card.is-active{
    flex-grow:3.6;
    transform:translateY(-2px);
    background:rgba(255,255,255,.92);
    box-shadow:
            0 22px 60px rgba(2,6,23,.14),
            0 0 0 1px rgba(56,189,248,.14);
}

body.is-snap-home #B .skill-media{
    position:absolute;
    inset:0;
    z-index:1;
    overflow:hidden;
    pointer-events:none;
}

body.is-snap-home #B .skill-media::after{
    content:"";
    position:absolute;
    inset:0;
    pointer-events:none;
    background:linear-gradient(
            to top,
            rgba(0,0,0,.55) 0%,
            rgba(0,0,0,.22) 45%,
            rgba(0,0,0,0) 75%
    );
}

body.is-snap-home #B .skill-media-img{
    width:100%;
    height:100%;
    display:block;
    object-fit:cover;
    object-position:center;

    opacity:.9;
    transition:
            opacity .75s ease,
            filter .75s ease,
            transform var(--dur-skill) var(--ease-skill);
}

body.is-snap-home #B .skill-card:not(.is-active) .skill-media-img{
    filter:brightness(.2) saturate(.6) contrast(.95);
    opacity:.7;
}
/* Hover polish: inactive cards get color back + subtle glow */
body.is-snap-home #B .skill-card:not(.is-active):hover{
    box-shadow:
            0 18px 50px rgba(2,6,23,.22),
            0 0 0 1px rgba(34,211,238,.22);
    transform: translateY(-2px);
}

body.is-snap-home #B .skill-card:not(.is-active):hover .skill-media-img{
    filter:brightness(.55) saturate(1.05) contrast(1.05);
    opacity:.9;
}


body.is-snap-home #B .skill-card.is-active .skill-media-img{
    opacity:1;
    filter:brightness(1) saturate(1.12) contrast(1.05);
    transform:scale(.98);
}

body.is-snap-home #B .skill-content{
    position:absolute;
    left:0;
    right:0;
    bottom:0;

    z-index:3;
    background:transparent;

    padding:1.05rem 1.15rem 1.2rem;
    color:rgba(255,255,255,.92);

    transform:translateY(0);
    transition:transform var(--dur-skill) var(--ease-skill);
}

body.is-snap-home #B .skill-card:not(.is-active) .skill-content{
    transform:translateY(10px);
}

body.is-snap-home #B .skill-content::before{
    content:"";
    position:absolute;
    inset:-10px -14px -12px -14px;
    z-index:-1;
    pointer-events:none;

    opacity:0;
    transition:opacity .55s ease;

    background:radial-gradient(
            120% 140% at 10% 85%,
            rgba(0,0,0,.78) 0%,
            rgba(0,0,0,.52) 40%,
            rgba(0,0,0,.18) 68%,
            rgba(0,0,0,0) 100%
    );
}
body.is-snap-home #B .skill-card.is-active .skill-content::before{ opacity:1; }

body.is-snap-home #B .skill-title{
    margin-top:.25rem;
    font-size:clamp(1.05rem, 1.4vw, 1.35rem);
    font-weight:900;

    color:#fff;
    text-shadow:
            0 2px 2px rgba(0,0,0,.60),
            0 10px 28px rgba(0,0,0,.55),
            0 0 1px rgba(0,0,0,.85);

    transform-origin:left bottom;
    transition:transform var(--dur-skill) var(--ease-skill);

    white-space:nowrap;
    overflow:hidden;
    text-overflow:ellipsis;
}
body.is-snap-home #B .skill-card.is-active .skill-title{
    transform:translateY(-8px) scale(1.06);
}

body.is-snap-home #B .skill-kicker,
body.is-snap-home #B .skill-desc,
body.is-snap-home #B .skill-bullets{
    position:relative;
    z-index:1;

    opacity:0;
    transform:translateY(22px);

    transition:
            opacity .65s ease,
            transform var(--dur-skill) var(--ease-skill);

    text-shadow:
            0 2px 2px rgba(0,0,0,.55),
            0 8px 22px rgba(0,0,0,.50);
}

body.is-snap-home #B .skill-card.is-active .skill-kicker{
    opacity:.92;
    transform:translateY(0);
    transition-delay:.20s;
}
body.is-snap-home #B .skill-card.is-active .skill-desc{
    opacity:.88;
    transform:translateY(0);
    transition-delay:.28s;
}
body.is-snap-home #B .skill-card.is-active .skill-bullets{
    opacity:.85;
    transform:translateY(0);
    transition-delay:.36s;
}

body.is-snap-home #B .skill-kicker{
    font-size:.7rem;
    font-weight:800;
    letter-spacing:.10em;
    text-transform:uppercase;
    color:rgba(255,255,255,.70);
}
body.is-snap-home #B .skill-desc{
    margin-top:.55rem;
    font-size:.95rem;
    color:rgba(255,255,255,.82);
}
body.is-snap-home #B .skill-bullets{
    margin-top:.8rem;
    padding-left:1.1rem;
    font-size:.9rem;
    color:rgba(255,255,255,.78);
}

/* =========================
   Panel B (Skills) — Mobile friendly Warframe slider
   ========================= */
@media (max-width: 768px){
    /* Stack slides vertically on mobile */
    body.is-snap-home #B .skills-accordion{
        flex-direction:column;
        height:100%;
        overflow:hidden; /* keep it clean */
    }

    /* Make inactive slides small "tabs" */
    body.is-snap-home #B .skill-card{
        flex:0 0 34px;            /* inactive height (tweak this) */
        border-left:0;
        border-top:1px solid rgba(255,255,255,.10);
        transform:none !important; /* stop hover lift on touch */
    }
    body.is-snap-home #B .skill-card:first-child{
        border-top:0;
    }

    /* Active slide takes the remaining space (usually ~90%+) */
    body.is-snap-home #B .skill-card.is-active{
        flex:1 1 auto;
    }

    /* No text at all when inactive */
    body.is-snap-home #B .skill-card:not(.is-active) .skill-content{
        opacity:0 !important;
        visibility:hidden !important;
        transform:translateY(12px) !important;
        pointer-events:none !important;
    }
    body.is-snap-home #B .skill-card:not(.is-active) .skill-title,
    body.is-snap-home #B .skill-card:not(.is-active) .skill-kicker,
    body.is-snap-home #B .skill-card:not(.is-active) .skill-desc,
    body.is-snap-home #B .skill-card:not(.is-active) .skill-bullets{
        display:none !important;
    }

    /* Keep the active content readable and scrollable if needed */
    body.is-snap-home #B .skill-card.is-active .skill-content{
        padding:1rem 1rem 1.1rem;
        max-height:70%;
        overflow:auto;
        -webkit-overflow-scrolling:touch;
        overscroll-behavior:contain;
    }

    /* Optional: reduce overlay clutter on mobile */
    body.is-snap-home #B .skills-overlay{
        display:none;
    }
}


/* =========================
   Panel C (Projects)
   ========================= */
body.is-snap-home #C .section-inner{
    max-width:92rem;
}

/* Card tags */
.proj-tag{
    display:inline-flex;
    padding:.2rem .55rem;
    border-radius:9999px;
    font-size:.72rem;
    font-weight:600;
    letter-spacing:.02em;
    color:rgba(255,255,255,.75);
    border:1px solid rgba(255,255,255,.12);
    background:rgba(255,255,255,.06);
}

/* =========================
   Intro overlay
   ========================= */
.intro-overlay,
#intro{
    position:fixed;
    inset:0;
    z-index:40;

    display:flex;
    align-items:center;
    justify-content:center;
    padding:1.25rem;

    background:
            radial-gradient(1200px 600px at 15% 15%, rgba(56,189,248,.08), transparent 55%),
            radial-gradient(1000px 600px at 85% 80%, rgba(99,102,241,.10), transparent 55%),
            linear-gradient(135deg, #05070d 0%, #0b1220 45%, #0a0f1a 100%);
}

#intro .text-center{
    width:min(92vw, 520px);
    padding:0;
    background:transparent;
    border:none;
    box-shadow:none;
}

.intro-card{
    width:min(92vw, 520px);
    border-radius:24px;
    padding:2.5rem 2.25rem;

    background:rgba(255,255,255,.06);
    border:1px solid rgba(255,255,255,.08);

    backdrop-filter:blur(18px) saturate(120%);
    -webkit-backdrop-filter:blur(18px) saturate(120%);

    box-shadow:
            0 24px 80px rgba(0,0,0,.55),
            inset 0 1px 0 rgba(255,255,255,.05);

    display:flex;
    flex-direction:column;
    align-items:center;
    justify-content:center;
    text-align:center;
    gap:.75rem;
}

.intro-pill{
    display:inline-flex;
    align-items:center;
    justify-content:center;

    padding:.25rem .6rem;
    border-radius:9999px;

    font-size:.7rem;
    font-weight:600;
    letter-spacing:.08em;
    text-transform:uppercase;

    color:rgba(255,255,255,.7);
    background:rgba(255,255,255,.06);
    border:1px solid rgba(255,255,255,.08);
}

.intro-title{
    margin-top:.9rem;
    font-size:clamp(2rem, 3.2vw, 2.6rem);
    font-weight:800;
    letter-spacing:-.02em;
    color:#fff;
}

.intro-sub{
    margin-top:.5rem;
    font-size:clamp(1rem, 1.2vw, 1.1rem);
    color:rgba(255,255,255,.65);
}

.intro-key{
    display:inline-block;
    padding:.05rem .35rem;
    border-radius:.4rem;

    color:#fff;
    background:rgba(255,255,255,.08);
    border:1px solid rgba(255,255,255,.12);
}

#intro .intro-ui,
#intro .mt-6{
    display:flex !important;
    flex-direction:column !important;
    align-items:center !important;
    justify-content:center !important;
    gap:.75rem !important;
    margin-top:1.25rem !important;
    text-align:center !important;
}

#intro .intro-enter,
#intro button[type="button"]{
    appearance:none;
    border-radius:9999px !important;
    padding:.7rem 1.4rem !important;
    min-width:140px;

    font-weight:600;
    letter-spacing:.02em;
    cursor:pointer;

    background:rgba(255,255,255,.12) !important;
    color:#fff !important;
    border:1px solid rgba(255,255,255,.18) !important;

    box-shadow:
            0 10px 24px rgba(0,0,0,.25),
            inset 0 1px 0 rgba(255,255,255,.06) !important;

    transition:transform .18s ease, background .18s ease, border-color .18s ease;
}

#intro .intro-enter:hover,
#intro button[type="button"]:hover{
    background:rgba(255,255,255,.18) !important;
    border-color:rgba(255,255,255,.26) !important;
    transform:translateY(-1px);
}

#intro .intro-skip,
#intro label{
    display:inline-flex !important;
    align-items:center !important;
    justify-content:center !important;
    gap:.5rem !important;

    font-size:.8rem !important;
    line-height:1.2 !important;
    color:rgba(255,255,255,.6) !important;
}

#intro .intro-skip input,
#intro label input[type="checkbox"]{
    width:.95rem;
    height:.95rem;
    transform:translateY(1px);
    accent-color:#38bdf8;
}

/* =========================
   Project Drawer (dialog)
   ========================= */
.proj-drawer{
    border:none;
    padding:0;
    background:transparent;
    width:min(1280px, 92vw);
    height:min(880px, 88vh);
}

.proj-drawer::backdrop{
    background:rgba(0,0,0,.65);
    backdrop-filter:blur(3px);
}

.proj-drawer-shell{
    height:100%;
    border-radius:24px;
    border:1px solid rgba(255,255,255,.10);
    background:rgba(10,10,12,.78);
    backdrop-filter:blur(18px);
    box-shadow:0 30px 120px rgba(0,0,0,.65);
    overflow:hidden;
    display:flex;
    flex-direction:column;
    min-height:0;
}



.proj-drawer-head{
    position:sticky;
    top:0;
    z-index:2;

    display:flex;
    align-items:center;
    justify-content:space-between;
    gap:1rem;

    padding:1rem;
    border-bottom:1px solid rgba(255,255,255,.10);

    background:rgba(8,8,10,.72);
    backdrop-filter:blur(14px);
}

.proj-drawer-title{
    font-size:1.1rem;
    font-weight:800;
    color:#fff;
    white-space:nowrap;
    overflow:hidden;
    text-overflow:ellipsis;
}

.proj-drawer-tags{
    margin-top:.25rem;
    display:flex;
    flex-wrap:wrap;
    gap:.4rem;
}

.proj-drawer-actions{
    display:flex;
    align-items:center;
    gap:.5rem;
}

.proj-drawer-btn{
    padding:.45rem .8rem;
    border-radius:9999px;
    border:1px solid rgba(255,255,255,.16);
    background:rgba(255,255,255,.08);
    color:#fff;
    font-weight:700;
    font-size:.8rem;
    text-decoration:none;
}
.proj-drawer-btn:hover{ background:rgba(255,255,255,.12); }

.proj-drawer-close{
    width:40px;
    height:40px;
    border-radius:9999px;
    border:1px solid rgba(255,255,255,.16);
    background:rgba(255,255,255,.06);
    color:#fff;
    font-weight:800;
}
.proj-drawer-close:hover{ background:rgba(255,255,255,.12); }

.proj-drawer-body{
    flex:1 1 auto;
    min-height:0;
    overflow:hidden;
}

.proj-drawer-snap{
    height:100%;
    overflow-y:auto;
    scroll-snap-type:y mandatory;
    overscroll-behavior:contain;
}

.proj-drawer-step{
    scroll-snap-align:start;
    min-height:100%;
    height:auto;
}

.proj-drawer-grid{
    height:100%;
    min-height:0; 
    display:grid;
    grid-template-columns: minmax(0, 3fr) minmax(0, 2fr);
    grid-template-rows: minmax(0, 1fr);
    gap:1.25rem;
    padding:1.25rem;
    align-items:stretch;
}


.proj-drawer-story{
    min-width:0;
    min-height:0;
    overflow:visible;
    overflow-wrap:anywhere;
    word-break:break-word;
    color:rgba(255,255,255,.82);
}


.proj-drawer-proof{
    height:100%;
    min-height:0;
    display:block;
}

.proj-drawer-img{
    width:100%;
    height:100%;
    display:block;

    object-fit:cover;
    border-radius:16px;
    border:1px solid rgba(255,255,255,.10);
    background:rgba(0,0,0,.35);

    cursor:zoom-in;
}

.proj-drawer-story h3{
    color:#fff;
    font-weight:800;
    margin:.9rem 0 .45rem;
    font-size:1rem;
}

.proj-drawer-story ul{
    margin:.4rem 0 0 1.1rem;
    list-style:disc;
}
.proj-drawer-story li{
    margin:.25rem 0;
    color:rgba(255,255,255,.78);
}
.proj-drawer-story li::marker{ color:rgba(255,255,255,.92); }

/* Stack earlier (tablets / smaller laptops) */
@media (max-width:1100px){
    .proj-drawer-grid{
        grid-template-columns:1fr;
        align-content:start;
    }

    /* Make image behave on stacked layout */
    .proj-drawer-proof{ height:auto; }
    .proj-drawer-img{
        height:auto;
        max-height:42dvh;
        object-fit:contain;
    }
}

/* Phones: disable snap so long content never "fights" the layout */
@media (max-width:900px){
    .proj-drawer{
        width:96vw;
        height:min(92dvh, 920px);
    }

    .proj-drawer-snap{ scroll-snap-type:none; }
    .proj-drawer-step{ scroll-snap-align:none; }

    .proj-drawer-grid{
        padding:1rem;
        gap:1rem;
    }
}


/* =========================
   Lightbox
   ========================= */
#lightbox{
    padding:0;
    border:none;
    background:transparent;

    width:100vw;
    height:100vh;
    max-width:none;
    max-height:none;
    margin:0;

    display:none;
    place-items:center;
}
#lightbox[open]{
    display:grid;
}

/* Hide prev/next arrows */
#lightbox [data-lb="prev"],
#lightbox [data-lb="next"]{
    display:none !important;
}

#lightbox::backdrop{
    background:rgba(2,6,23,.80);
    backdrop-filter:blur(4px);
    opacity:0;
    transition:opacity .22s ease;
}
#lightbox.is-open::backdrop{ opacity:1; }

#lightbox .lb-shell{
    position:relative;
    width:min(92vw, 1400px);
    height:min(86vh, 920px);

    border-radius:18px;
    overflow:hidden;

    background:rgba(10,10,12,.92);
    border:1px solid rgba(255,255,255,.14);
    box-shadow:0 28px 120px rgba(0,0,0,.65);

    display:grid;
    place-items:center;

    opacity:0;
    transform:translateY(10px) scale(.985);
    transition:opacity .22s ease, transform .22s ease;
}

#lightbox.is-open .lb-shell{
    opacity:1;
    transform:none;
}

#lightbox.is-closing::backdrop{ opacity:0; }
#lightbox.is-closing .lb-shell{
    opacity:0;
    transform:translateY(10px) scale(.985);
}

/* One definitive image sizing rule */
#lightbox #lightboxImage{
    width:100%;
    height:100%;
    object-fit:contain;
    display:block;
    background:rgba(0,0,0,.35);
}

#lightbox .lb-close{
    position:absolute;
    top:12px;
    right:12px;

    width:44px;
    height:44px;
    border-radius:9999px;

    display:grid;
    place-items:center;

    background:rgba(15,23,42,.55);
    border:1px solid rgba(255,255,255,.22);
    color:#fff;
    font-weight:800;
    cursor:pointer;

    backdrop-filter:blur(10px);
}
#lightbox .lb-close:hover{ background:rgba(15,23,42,.72); }

/* =========================
   Nav pill placement
   ========================= */

/* Case 1: pill is fixed to viewport (most common) */
body.is-snap-home :is(
    #navPills, #snapPills, #navPill, #navLabel,
    .nav-pills, .nav-pill,
    .spine-pill, .spine-pill-prev, .spine-pill--prev,
    [data-prev-pill], [data-role="prev-pill"]
){
    top: calc(var(--header-h) + 30px) !important;
    margin-top: 0 !important;
    transform: translateY(0) !important;
}

/* Case 2: pill is positioned inside the navbar (absolute inside .nav-shell) */
.nav-shell :is(
    #navPills, #snapPills, #navPill, #navLabel,
    .nav-pills, .nav-pill,
    .spine-pill, .spine-pill-prev, .spine-pill--prev,
    [data-prev-pill], [data-role="prev-pill"]
){
    top: calc(100% + 12px) !important;
    margin-top: 0 !important;
    transform: translateY(0) !important;
}

/* =========================
   Privacy Page
   ========================= */
.privacy{
    color:#000;
    background:transparent;
    width:min(920px, 100% - 2rem);
    margin:0 auto;

   
    padding-top:calc(var(--header-h) + 1.5rem);

    /* keep your bottom spacing */
    padding-bottom:4rem;
}


.privacy__header{
    padding-bottom:1rem;
    border-bottom:1px solid rgba(0,0,0,.12);
    margin-bottom:1.5rem;
}

.privacy__title{
    font-size:clamp(2rem, 3vw, 2.75rem);
    line-height:1.1;
    font-weight:900;
    letter-spacing:-0.02em;
    margin:0;
}

.privacy__meta{
    margin:.6rem 0 0;
    font-size:.95rem;
    opacity:.85;
}

.privacy__section{
    margin:1.25rem 0;
}

.privacy__section h2{
    font-size:1.25rem;
    line-height:1.2;
    font-weight:800;
    margin:0 0 .5rem;
}

.privacy__section p{
    margin:.5rem 0;
    line-height:1.6;
    font-size:1rem;
}

.privacy__section ul{
    margin:.5rem 0 0 1.1rem;
    padding:0;
}

.privacy__section li{
    margin:.45rem 0;
    line-height:1.6;
}

.privacy a{
    color:#000;
    text-decoration:underline;
    text-underline-offset:3px;
}

.privacy__note{
    margin-top:.75rem;
    padding:.85rem 1rem;
    border-left:4px solid rgba(0,0,0,.25);
    background:rgba(0,0,0,.04);
    border-radius:.75rem;
}

@media (max-width: 640px){
    .privacy{
        padding:1.6rem 0 3rem;
    }
    .privacy__section h2{
        font-size:1.15rem;
    }
}

/* =========================
   Shared navbar modes (Home vs Privacy)
   ========================= */

/* Home link is hidden by default */
.nav-home-link{ display:none; }

/* CV button should only exist on the home snap page */
.nav-cv-btn{ display:none; }
body.is-snap-home .nav-cv-btn{ display:inline-flex; }

/* Privacy page: show only centered Home, hide everything else */
.privacy-page .nav-left-spacer,
.privacy-page .nav-right,
.privacy-page .nav-cv-btn{
    display:none !important;
}

.privacy-page .nav-center{
    justify-self:center;
    display:flex;
    align-items:center;
    justify-content:center;
}

.privacy-page .nav-home-link{
    display:inline-flex;
    align-items:center;
    justify-content:center;

    color:rgba(255,255,255,.92);
    font-weight:800;
    letter-spacing:.06em;
    text-transform:uppercase;
    text-decoration:none;

    padding:.55rem .95rem;
    border-radius:.75rem;

    background:rgba(255,255,255,.08);
    border:1px solid rgba(255,255,255,.14);

    transition:transform .16s ease, background .16s ease, border-color .16s ease;
}

.privacy-page .nav-home-link:hover{
    background:rgba(255,255,255,.12);
    border-color:rgba(255,255,255,.22);
    transform:translateY(-1px);
}

/* =========================
   Scrollbar: hide chrome, keep scroll
   ========================= */
.section-inner.panel-scroll,
.proj-drawer-snap,
#lightbox .lb-shell{
    -ms-overflow-style:none;   /* IE/Edge legacy */
    scrollbar-width:none;      /* Firefox */
}

.section-inner.panel-scroll::-webkit-scrollbar,
.proj-drawer-snap::-webkit-scrollbar,
#lightbox .lb-shell::-webkit-scrollbar{
    width:0;
    height:0;
}

/* =========================
   Navbar: compact + transparent on small screens
   ========================= */
@media (max-width: 760px){
    :root{ --header-h: 56px; }

    .nav-shell{
        height:var(--header-h);
        padding-inline:.75rem;
        gap:.5rem;

        /* "no background" */
        background:transparent;
        border-bottom:none;
        box-shadow:none;
        backdrop-filter:none;
        -webkit-backdrop-filter:none;
    }

    .nav-right{
        gap:.35rem;
        flex-wrap:wrap;
        justify-content:flex-end;
    }

    .nav-link{
        padding:.4rem .55rem;
        font-size:.85rem;
        border-radius:.6rem;
        text-shadow: 0 2px 10px rgba(0,0,0,.55);
    }

    /* Hide/show animation hook */
    #scanNav{
        will-change: transform;
        transition: opacity .4s ease, transform .22s ease;
    }
    #scanNav.nav-min-hidden{
        transform: translateY(-110%);
        pointer-events:none;
    }
}

/* =========================
   Nav link glow by panel (hover only)
   ========================= */
#scanNav .panel-nav[data-panel="A"]{ --nav-glow: rgba(255,43,43,.55); }
#scanNav .panel-nav[data-panel="B"]{ --nav-glow: rgba(34,211,238,.55); }
#scanNav .panel-nav[data-panel="C"]{ --nav-glow: rgba(57,255,20,.50); }
#scanNav .panel-nav[data-panel="Contact"]{ --nav-glow: rgba(192,38,255,.55); }

#scanNav .panel-nav{
    text-shadow:none;
    filter:none;
    transition:
            color .15s ease,
            transform .65s,
            text-shadow .35s ease,
            filter .35s ease;
}

#scanNav .panel-nav:hover{
    text-shadow:
            0 0 10px var(--nav-glow),
            0 0 22px color-mix(in srgb, var(--nav-glow) 70%, transparent);
    filter: drop-shadow(0 0 10px var(--nav-glow));
}

#scanNav .panel-nav.is-active,
#scanNav .panel-nav.is-active:hover{
    text-shadow:none !important;
    filter:none !important;
}


/* =========================
   Navbar — Mobile layout fix (keep one row)
   ========================= */
@media (max-width: 760px){
    :root{ --header-h: 56px; }

    /* Switch grid -> flex so items stop wrapping into rows */
    .nav-shell{
        display:flex;
        align-items:center;
        justify-content:space-between;
        height:var(--header-h);

        padding-inline:.75rem;
        gap:.6rem;

        /* your "modern no-background" look */
        background:transparent;
        border-bottom:none;
        box-shadow:none;
        backdrop-filter:none;
        -webkit-backdrop-filter:none;
    }

    /* Remove spacer behavior on mobile */
    .nav-left-spacer{ display:none !important; }

    /* CV button sits left */
    .nav-center{
        order:0;
        justify-self:auto;
        flex:0 0 auto;
        display:flex;
        justify-content:flex-start;
    }

    /* Links stay right, in one line */
    .nav-right{
        order:1;
        justify-self:auto;

        display:flex;
        flex-wrap:nowrap;              /* IMPORTANT: no wrapping */
        align-items:center;
        justify-content:flex-end;

        gap:.35rem;                    /* tighter spacing */
        min-width:0;
        overflow-x:auto;               /* if it *must* overflow, scroll horizontally */
        -ms-overflow-style:none;
        scrollbar-width:none;
    }
    .nav-right::-webkit-scrollbar{ width:0; height:0; }

    /* Tighten links */
    .nav-link{
        padding:.38rem .55rem;
        font-size:.82rem;
        border-radius:.6rem;
        white-space:nowrap;
    }

    /* Make the CV button compact on mobile (your CV+icon stack) */
    body.is-snap-home .nav-cv-btn{
        padding:.5rem .7rem;
        min-height:40px;
        border-radius:16px;
    }
}


#scanNav .nav-cv-btn{
    border-radius: 18px !important;
    overflow: hidden; 
}


#scanNav .nav-cv-btn::before{
    border-radius: 22px !important;
}


@media (max-width: 720px){
    body.is-snap-home #scanNav .nav-cv-btn{
        border-radius: 16px !important;
    }
    body.is-snap-home #scanNav .nav-cv-btn::before{
        border-radius: 20px !important;
    }
}

#lightbox #lightboxVideo{
    width:100%;
    height:100%;
    object-fit:contain;
    display:block;
    background:rgba(0,0,0,.35);
}


/* =========================
   Reduce motion
   ========================= */
@media (prefers-reduced-motion: reduce){
    .nav-scan,
    .section,
    .section-inner{
        transition:none !important;
        animation:none !important;
    }
}
